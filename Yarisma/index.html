<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Basit Bilgi Yarışması</title>
    <style>
        body {
            font-family: sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background-color: #f0f0f0;
        }
        #quiz-container {
            background-color: #fff;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            text-align: center;
            width: 90%;
            max-width: 500px;
        }
        #question {
            font-size: 1.2em;
            margin-bottom: 20px;
            min-height: 50px; /* Soru alanı yüksekliğini sabit tutar */
        }
        #options button {
            display: block;
            width: 100%;
            padding: 10px;
            margin: 10px 0;
            border: 1px solid #ccc;
            border-radius: 5px;
            background-color: #eee;
            cursor: pointer;
            font-size: 1em;
            transition: background-color 0.3s;
        }
        #options button:hover:not(:disabled) {
            background-color: #ddd;
        }
        #options button:disabled {
            cursor: not-allowed;
        }
        #feedback {
            margin-top: 15px;
            font-weight: bold;
            min-height: 20px; /* Geri bildirim alanı yüksekliğini sabit tutar */
        }
        .correct {
            color: green;
        }
        .incorrect {
            color: red;
        }
        #score {
            margin-top: 20px;
            font-size: 1.1em;
        }
         #results {
            display: none; /* Başlangıçta gizli */
            font-size: 1.3em;
            font-weight: bold;
         }
         #start-button, #restart-button {
             padding: 10px 20px;
             font-size: 1.1em;
             cursor: pointer;
             margin-top: 20px;
             background-color: #007bff;
             color: white;
             border: none;
             border-radius: 5px;
         }
         #quiz-content {
             display: none; /* Başlangıçta gizli */
         }
    </style>
</head>
<body>
    <div id="quiz-container">
        <h1>Basit Bilgi Yarışması</h1>

        <button id="start-button">Yarışmayı Başlat</button>

        <div id="quiz-content">
            <div id="question">Soru burada görünecek...</div>
            <div id="options">
                </div>
            <div id="feedback"></div>
            <div id="score">Skor: 0</div>
        </div>

        <div id="results">
            <h2>Yarışma Bitti!</h2>
            <p id="final-score">Toplam Skorunuz: X</p>
            <button id="restart-button">Yeniden Başlat</button>
        </div>
    </div>

    <script>
        // --- Sorular ---
        // Yaş farkı gözetmeyen, basit ve genel kültür soruları
        const questions = [
            {
                question: "Güneş hangi yönden doğar?",
                options: ["Kuzey", "Güney", "Doğu", "Batı"],
                correctAnswer: "Doğu"
            },
            {
                question: "Bir yılda kaç mevsim vardır?",
                options: ["2", "3", "4", "5"],
                correctAnswer: "4"
            },
            {
                question: "Hangi renk trafik ışığında 'dur' anlamına gelir?",
                options: ["Sarı", "Yeşil", "Kırmızı", "Mavi"],
                correctAnswer: "Kırmızı"
            },
            {
                question: "Resimdeki hayvan hangisidir? (Kedi resmi olduğunu varsayalım)", // Gerçek uygulamada resim eklemek gerekir
                options: ["Köpek", "Kedi", "Kuş", "Balık"],
                correctAnswer: "Kedi" // Bu soruyu metin tabanlı hale getirelim:
            },
             {
                question: "'Miyav' sesi çıkaran evcil hayvan hangisidir?",
                options: ["Köpek", "Kedi", "Hamster", "Tavşan"],
                correctAnswer: "Kedi"
            },
            {
                question: "3 + 5 işleminin sonucu kaçtır?",
                options: ["7", "8", "9", "10"],
                correctAnswer: "8"
            }
        ];

        // --- Değişkenler ---
        let currentQuestionIndex = 0;
        let score = 0;
        let questionsShuffled = []; // Karıştırılmış soruları tutacak dizi

        // --- HTML Element Referansları ---
        const startButton = document.getElementById('start-button');
        const quizContent = document.getElementById('quiz-content');
        const questionElement = document.getElementById('question');
        const optionsElement = document.getElementById('options');
        const feedbackElement = document.getElementById('feedback');
        const scoreElement = document.getElementById('score');
        const resultsElement = document.getElementById('results');
        const finalScoreElement = document.getElementById('final-score');
        const restartButton = document.getElementById('restart-button');

        // --- Fonksiyonlar ---

        // Fisher-Yates (Knuth) Karıştırma Algoritması
        function shuffleArray(array) {
            let currentIndex = array.length, randomIndex;
            // While there remain elements to shuffle.
            while (currentIndex !== 0) {
                // Pick a remaining element.
                randomIndex = Math.floor(Math.random() * currentIndex);
                currentIndex--;
                // And swap it with the current element.
                [array[currentIndex], array[randomIndex]] = [
                    array[randomIndex], array[currentIndex]];
            }
            return array;
        }


        function loadQuestion() {
            feedbackElement.textContent = ''; // Önceki geri bildirimi temizle
            optionsElement.innerHTML = ''; // Önceki seçenekleri temizle

            if (currentQuestionIndex < questionsShuffled.length) {
                const currentQuestion = questionsShuffled[currentQuestionIndex];
                questionElement.textContent = currentQuestion.question;
                scoreElement.textContent = `Skor: ${score}`;

                // Seçenekleri karıştır ve buton olarak ekle
                const shuffledOptions = shuffleArray([...currentQuestion.options]); // Orjinali bozmamak için kopyala ve karıştır
                shuffledOptions.forEach(option => {
                    const button = document.createElement('button');
                    button.textContent = option;
                    button.onclick = () => handleAnswer(option, currentQuestion.correctAnswer);
                    optionsElement.appendChild(button);
                });
            } else {
                showResults();
            }
        }

        function handleAnswer(selectedAnswer, correctAnswer) {
            // Tüm butonları pasif yap
            const buttons = optionsElement.getElementsByTagName('button');
            for (let btn of buttons) {
                btn.disabled = true;
                // Doğru cevabı yeşil yap
                if(btn.textContent === correctAnswer) {
                    btn.style.backgroundColor = '#90ee90'; // Açık yeşil
                }
            }

            if (selectedAnswer === correctAnswer) {
                score++;
                feedbackElement.textContent = "Doğru!";
                feedbackElement.className = 'correct';
            } else {
                feedbackElement.textContent = `Yanlış! Doğru cevap: ${correctAnswer}`;
                feedbackElement.className = 'incorrect';
                 // Yanlış seçimi kırmızı yap
                 for (let btn of buttons) {
                     if(btn.textContent === selectedAnswer) {
                        btn.style.backgroundColor = '#f08080'; // Açık Kırmızı
                    }
                 }
            }
            scoreElement.textContent = `Skor: ${score}`;
            currentQuestionIndex++;

            // 1.5 saniye sonra sonraki soruyu yükle
            setTimeout(loadQuestion, 1500);
        }

        function showResults() {
            quizContent.style.display = 'none'; // Soru/cevap alanını gizle
            resultsElement.style.display = 'block'; // Sonuçları göster
            finalScoreElement.textContent = `Toplam Skorunuz: ${score} / ${questionsShuffled.length}`;
        }

        function startQuiz() {
            startButton.style.display = 'none'; // Başlat butonunu gizle
            resultsElement.style.display = 'none'; // Önceki sonuçları gizle (yeniden başlatma durumu için)
            quizContent.style.display = 'block'; // Quiz içeriğini göster

            // Soruları karıştır ve sıfırla
             questionsShuffled = shuffleArray([...questions]); // Orijinal diziyi bozmamak için kopyasını karıştır
            currentQuestionIndex = 0;
            score = 0;

            loadQuestion(); // İlk soruyu yükle
        }

        // --- Olay Dinleyicileri ---
        startButton.addEventListener('click', startQuiz);
        restartButton.addEventListener('click', startQuiz); // Yeniden başlat butonu da aynı fonksiyonu çağırır

    </script>
</body>
</html>
